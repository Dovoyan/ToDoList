(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),r=n(7),u=n.n(r),i=(n(13),n(14),n(3)),a=n(8),d=n(6),s=n(0);function l(e){var t=e.item,n=e.itemDelete,o=e.itemUpdate,r=Object(c.useRef)(null),u=Object(c.useRef)(null);return Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{ref:r,onChange:function(){o(t.id,r.current.value,t.order,u.current.checked)},value:t.title}),Object(s.jsx)("input",{ref:u,onChange:function(){o(t.id,r.current.value,t.order,u.current.checked)},checked:t.checked,type:"checkbox",id:"scales",name:"scales"}),Object(s.jsx)("button",{onClick:function(){n(t.id)},children:"delete"})]})}function f(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],o=t[1],r=Object(c.useState)(null),u=Object(d.a)(r,2),f=u[0],h=u[1],j=Object(c.useRef)(null);function p(e){fetch("https://kovalenkau-to-do.herokuapp.com/todo/".concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){o(e)}))}function b(e,t,n,c){var r={title:t,order:n,id:e,checked:c};fetch("https://kovalenkau-to-do.herokuapp.com/todo",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){o(e)}))}function O(e){e.currentTarget.style.background="tomato"}Object(c.useEffect)((function(){fetch("https://kovalenkau-to-do.herokuapp.com/todo").then((function(e){return e.json()})).then((function(e){o(e),console.log(e)}))}),[]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{onClick:function(){!function(){var e={title:j.current.value,order:n.length+1,checked:!1};fetch("https://kovalenkau-to-do.herokuapp.com/todo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){o([].concat(Object(a.a)(n),[e]))}))}()},children:"Add"}),Object(s.jsx)("input",{ref:j}),Object(s.jsx)("div",{className:"itemTable",children:n.sort((function(e,t){return e.order>t.order?1:-1})).map((function(e,t){return Object(s.jsx)("div",{onDragStart:function(t){h(e)},onDragLeave:function(e){return O(e)},onDragEnd:function(e){return O(e)},onDragOver:function(e){return function(e){e.preventDefault(),e.currentTarget.style.background="lightgray"}(e)},onDrop:function(t){return function(e,t){e.preventDefault(),o(n.map((function(e){return e.id===t.id?(b(t.id,t.title,f.order,t.checked),Object(i.a)(Object(i.a)({},e),{},{order:f.order})):e.id===f.id?(b(f.id,f.title,t.order,f.checked),Object(i.a)(Object(i.a)({},e),{},{order:t.order})):e}))),e.currentTarget.style.background="tomato"}(t,e)},className:"todoItem",draggable:!0,children:Object(s.jsx)(l,{item:e,itemDelete:p,itemUpdate:b})},t)}))})]})}var h=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(f,{})})};u.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(h,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.72c7f811.chunk.js.map